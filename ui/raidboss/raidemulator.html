<html>
  <head>
    <meta charset="utf-8" />
    <title>Cactbot Raid Emulator</title>
    <!-- General Overlay Scripts-->
    <link rel="stylesheet" href="../../resources/defaults.css" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" type="text/css" href="raidemulator.css" />
    <script src="../../dist/raidboss_data.bundle.js"></script>
    <script src="../../dist/raidemulator.bundle.js"></script>
  </head>
  <body class="bg-secondary">
    <div class="modal-backdrop hide"></div>
    <div class="modal importProgressModal text-dark" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Log File Import Progress</h5>
          </div>
          <div class="modal-body">
            <div class="progress position-relative">
              <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
              <div class="position-absolute w-100 text-center label"></div>
            </div>
            <p>
              <h3>Latest encounter:</h3>
              <span class="encounterLabel"></span>
            </p>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-primary" data-dismiss="modal" disabled>Done<span class="doneBtnTimeout"></span></button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal deleteDBModal text-dark" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Delete Encounter Database</h5>
            <button type="button" class="close" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>You are about to delete the encounter database. Are you sure?</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary">Yes</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal introModal text-dark" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Introduction</h5>
            <button type="button" class="close" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Welcome to the Raid Emulator.</p>
            <p>This tool replays encounters and shows what triggers were fired when, and allows you to view the encounter from any player's perspective.</p>
            <p>This tool requires that ACT be running in the background with both ngld's OverlayPlugin and the Cactbot plugin loaded.</p>
            <p>No overlays need to be created.</p>
            <p>Current WebSocket status: <span class="d-none websocketConnected text-success">Connected</span><span class="websocketDisconnected text-error">Disconnected</span>.</p>
            <p>To get started, you need to import an encounter via one of the following options:</p>
            <p>
              <ul>
                <li>Drag and drop a network log file from <code>%APPDATA%/Advanced Combat Tracker/FFXIVLogs/</code> on to the page</li>
                <li>Click the <code>Load Network Log</code> button in the bottom drawer and select a network log file from <code>%APPDATA%/Advanced Combat Tracker/FFXIVLogs/</code></li>
              </ul>
            </p>
            <p>Then, select an encounter via the bottom drawer.</p>
            <p>Once you have loaded an encounter, you can:</p>
            <p>
              <ul>
                <li>Change the current perspective by selecting a party member on the right</li>
                <li>Seek to any point in the encounter by clicking the bar at the top</li>
                <li>Hover over trigger indicators in the top bar to see their names</li>
                <li>See detailed information about triggers fired by clicking their button</li>
              </ul>
            </p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary pull-right" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <div class="container-fluid d-flex flex-column flex-fill h-100">
      <div class="row my-3 progressBarRow">
        <div class="col-auto">
          <button
            class="btn btn-primary h-auto play"
            type="button"
          >
            <i class="fa fa-play" aria-hidden="true"></i>
          </button>
          <button
            class="btn btn-primary h-auto pause d-none"
            type="button"
          >
            <i class="fa fa-pause" aria-hidden="true"></i>
          </button>
        </div>
        <div class="col">
          <div class="progress h-100 encounterProgressBar">
            <div
              class="progress-bar"
              role="progressbar"
              aria-valuenow="0"
              aria-valuemin="0"
              aria-valuemax="0"
            ></div>
          </div>
          <div class="playerTriggers">
            <div class="triggerBar player0"></div>
            <div class="triggerBar player1"></div>
            <div class="triggerBar player2"></div>
            <div class="triggerBar player3"></div>
            <div class="triggerBar player4"></div>
            <div class="triggerBar player5"></div>
            <div class="triggerBar player6"></div>
            <div class="triggerBar player7"></div>
            <div class="engageIndicator d-none"></div>
          </div>
        </div>
        <div class="col-auto">
          <div class="d-inline progress-bar-timestamp current-timestamp">00:00</div>
          <div class="d-inline progress-bar-timestamp divider-timestamp">/</div>
          <div class="d-inline progress-bar-timestamp duration-timestamp">00:00</div>
        </div>
      </div>
      <div class="row mainContentRow flex-fill">
        <div class="col-5 raidbossTimelineColumn">
          <div class="d-flex flex-column flex-fill">
            <div class="timer-bar-container"></div>
            <div class="popup-text-container-outer"></div>
          </div>
        </div>
        <div class="col-5 triggerInfoColumn border-dark border-left border-right">
          <div class="triggerCheckboxes">
            <div class="triggerHideSkippedContainer" data-toggle="tooltip" title="Hide triggers that were not executed">
              <input type="checkbox" name="hideSkipped" class="triggerHideSkipped" checked="checked" id="hideSkipped">
              <label for="hideSkipped">Hide Skipped</label>
            </div>
            <div class="triggerHideCollectorContainer" data-toggle="tooltip" title="Hide triggers that had no output">
              <input type="checkbox" name="hideCollector" class="triggerHideCollector" checked="checked" id="hideCollector">
              <label for="hideCollector">Hide Collectors</label>
            </div>
            <div style="clear: both"></div>
          </div>
        </div>
        <div class="col-2 partyInfoColumn">
          <div class="d-flex flex-column flex-fill">
            <div style="height: calc(16.666667vw - 30px)" class="p-1 map">
            </div>
            <div class="flex-fill party"></div>
          </div>
        </div>
      </div>
      <div class="row encountersRow bg-secondary">
        <div class="col">
          <button
            class="btn btn-primary w-auto h-auto float-right showEncountersButton"
            type="button"
            data-toggle="collapse"
            data-target="#encountersTab"
            aria-expanded="true"
            aria-controls="encountersTab"
          >
            <i class="fa fa-chevron-up" aria-hidden="true"></i>
            <i class="fa fa-chevron-down" aria-hidden="true"></i>
          </button>
          <div class="collapse show" id="encountersTab">
            <div class="row flex-fill border-top border-dark">
              <button class="btn btn-primary btn-sm loadNetworkLogButton mx-2" type="button">Load Network Log</button>
              <button class="btn btn-primary btn-sm exportDBButton mx-2" type="button">Export DB</button>
              <button class="btn btn-primary btn-sm importDBButton mx-2" type="button">Import DB</button>
              <button class="btn btn-primary btn-sm clearDBButton mx-2" type="button">Clear DB</button>
            </div>
            <div class="row flex-fill border-top border-dark encountersContainer">
              <div
                class="col col-3 border-right border-dark h-100 mh-100 zoneList"
              ></div>
              <div
                class="col col-3 border-right border-dark h-100 mh-100 dateList"
              ></div>
              <div
                class="col col-3 border-right border-dark h-100 mh-100 encounterList"
              ></div>
              <div class="col col-3 h-100 mh-100 encounterInfo"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <input type="file" name="files" class="d-none loadFileInput">
    <div class="templates">
      <template class="textElement">
        <div class="popup-text-container">
          <span class="popup-text"></span><span class="popup-text-remaining pl-1"></span>
        </div>
      </template>
      <template class="progress">
        <div class="progress mb-1">
          <div class="progress-bar"></div>
          <div class="timer-bar-left-label"></div>
          <div class="timer-bar-right-label"></div>
        </div>
      </template>
      <template class="triggerItem">
        <div class="triggerItem"></div>
      </template>
      <template class="playerInfoRow">
        <div class="playerInfoRow">
          <div>
            <div class="jobicon"></div>
            <div class="hp">
              <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax=""></div>
                <div class="label text-monospace"></div>
              </div>
            </div>
            <div class="mp">
              <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax=""></div>
                <div class="label text-monospace"></div>
              </div>
            </div>
          </div>
          <div class="playerName"></div>
        </div>
      </template>
      <template class="playerTriggerInfo">
        <div class="playerTriggerInfo d-none">
          <div class="d-flex flex-column">
            <div class="d-flex flex-column"></div>
          </div>
        </div>
      </template>
      <template class="jsonViewer">
        <pre class="json-viewer"></pre>
      </template>
      <template class="triggerLabel">
      </template>
      <template class="wrapCollapse">
        <div class="wrap-collapse">
          <div class="wrap-collapse-button">
            <button class="btn btn-outline-light btn-sm text-white" type="button">
              <div class="trigger-label">
                <div class="trigger-label-time"></div>
                <div class="trigger-label-name"></div>
                <div class="trigger-label-icon"></div>
                <div class="trigger-label-text"></div>
              </div>
            </button>
          </div>
          <div class="wrap-collapse-wrapper d-none"></div>
        </div>
      </template>
      <template class="encounterTabRow">
        <div class="selectorRow border-bottom border-dark"></div>
      </template>
      <template class="encounterTabEncounterRow">
        <div class="selectorRow border-bottom border-dark">
          <div class="encounterStart d-inline"></div>
          <div class="encounterName d-inline mx-2"></div>
          <div class="encounterDuration d-inline"></div>
        </div>
      </template>
      <template class="encounterInfo">
        <div class="encounterInfo">
          <div class="encounterLoad btn btn-primary pull-right mb-1">Load Encounter</div>
          <div class="encounterParse btn btn-primary pull-right mb-1">Reparse Encounter</div>
          <div class="encounterPrune btn btn-primary pull-right mb-1">Prune Encounter</div>
          <div class="encounterDelete btn btn-primary pull-right mb-1">Delete Encounter</div>
          <div class="encounterZone">Zone: <span class="label"></span></div>
          <div class="encounterStart">Start: <span class="label"></span></div>
          <div class="encounterDuration">Duration: <span class="label"></span></div>
          <div class="encounterOffset">Pull At: <span class="label"></span></div>
          <div class="encounterName">Name: <span class="label"></span></div>
          <div class="encounterStartStatus">Start Status: <span class="label"></span></div>
          <div class="encounterEndStatus">End Status: <span class="label"></span></div>
        </div>
      </template>
      <template id="topTooltipTemplate" class="tooltip top">
        <div class="tooltip bs-tooltip-top" role="tooltip" x-placement="top">
          <div class="arrow"></div>
          <div class="tooltip-inner"></div>
        </div>
      </template>
      <template id="rightTooltipTemplate" class="tooltip right">
        <div class="tooltip bs-tooltip-right" role="tooltip" x-placement="right">
          <div class="arrow"></div>
          <div class="tooltip-inner"></div>
        </div>
      </template>
      <template id="bottomTooltipTemplate" class="tooltip bottom">
        <div class="tooltip bs-tooltip-bottom" role="tooltip" x-placement="bottom">
          <div class="arrow"></div>
          <div class="tooltip-inner"></div>
        </div>
      </template>
      <template id="leftTooltipTemplate" class="tooltip left">
        <div class="tooltip bs-tooltip-left" role="tooltip" x-placement="left">
          <div class="arrow"></div>
          <div class="tooltip-inner"></div>
        </div>
      </template>
    </div>
  </body>
</html>
