 <html>
 <head>
 <script src="timerbar.js"></script>
 <style>
  body>div {
    vertical-align: top;
  }
  div.test {
    width: 300px;
    height: 30px;
  }
 </style>
 </head>
 
 <body>
 <div style="display: inline-block; ">
 1. This starts from 2s and doesn't disappear.
 <div class="test" id=d1></div>
 
 2/13. These 2 start from 2s and do disappear after 1/2s.
 <div class="test" id=d2></div>
 <div class="test" id=d13></div>

 3. This starts from 2s and does disappear after 0s.
 <div class="test" id=d3></div>

 4. This starts from 2s repeatedly with a 1s break in between.
 <div class="test" id=d4></div>
 
 11/12. These 2 start from 2s, then restart from 2s half-way.
 <div class="test" id=d11></div>
 <div class="test" id=d12></div>

 5/6. These 2 start start from 2s and disappear after 0s.
 <div class="test" id=d5></div>
 <div class="test" id=d6></div>
 
 7/8. These 2 start from 1/3 left with 2s remaining.
 <div class="test" id=d7></div>
 <div class="test" id=d8></div>

 9. This is already finished but doesn't hide.
 <div class="test" id=d9></div>
 10. This is already finished but does hide.
 <div class="test" id=d10></div>
 </div>
 
 <div style="display: inline-block; margin-left: 2em; border-left: 1px solid grey; padding-left: 2em; ">
 b1. This starts from 2s and doesn't disappear.
 <div class="test" id=b1></div>
 
 b2/b13. These 2 start from 2s and do disappear after 1/2s.
 <div class="test" id=b2></div>
 <div class="test" id=b13></div>

 b3. This starts from 2s and does disappear after 0s.
 <div class="test" id=b3></div>

 b4. This starts from 2s repeatedly with a 1s break in between.
 <div class="test" id=b4></div>

 b11/b12. These 2 start from 2s, then restart from 2s half-way.
 <div class="test" id=b11></div>
 <div class="test" id=b12></div>

 b5/b6. These 2 start start from 2s and disappear after 0s.
 <div class="test" id=b5></div>
 <div class="test" id=b6></div>
 
 b7/b8. These 2 start from 1/3 left with 2s remaining.
 <div class="test" id=b7></div>
 <div class="test" id=b8></div>

 b9. This is already finished but doesn't hide.
 <div class="test" id=b9></div>
 b10. This is already finished but does hide.
 <div class="test" id=b10></div>
 </div>
 </div>
 
 <div style="display: inline-block; margin-left: 2em; border-left: 1px solid grey; padding-left: 2em; ">
 c1. Green foreground
 <div class="test" id=c1></div>
 c2. Green background
 <div class="test" id=c2></div>
 c3. Left remain / Centre elapsed / Right percent / - duration / - fixed
 <div class="test" id=c3></div>
 c4. Left elapsed / Centre percent / Right duration / - fixed / - remain
 <div class="test" id=c4></div>
 c5. Left percent / Centre duration / Right fixed / - remain / - elapsed
 <div class="test" id=c5></div>
 c6. Left duration / Centre fixed / Right remain / - elapsed / - percent
 <div class="test" id=c6></div>
 c7. Left fixed / Centre remain / Right elapsed / - percent / - duration
 <div class="test" id=c7></div>
 c8. Height/Width fixed.
 <div class="test" id=c8></div>
 c9. Height/Width percentage.
 <div class="test" id=c9></div>
 c10. Style empty / Toward left.
 <div class="test" id=c10></div>
 c11. Style fill / Toward left.
 <div class="test" id=c11></div>
 c12. Style empty / Toward right.
 <div class="test" id=c12></div>
 c13. Style fill / Toward right.
 <div class="test" id=c13></div>
 
 </body>
 
 
 <script>
  var only = '';
 
  var bar;

  if (!only || only == 1) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.duration = 2;
    document.getElementById('d1').appendChild(bar);
  }

  if (!only || only == 2) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.duration = 2;
    bar.hideafter = 0.5;
    document.getElementById('d2').appendChild(bar);
  }

  if (!only || only == 13) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.duration = 2;
    document.getElementById('d13').appendChild(bar);
    (function() {
      var hideBar = bar;
      window.setTimeout(function() {
        hideBar.hideafter = 0;
      }, 2500);
    })();
  }

  if (!only || only == 3) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.duration = 2;
    bar.hideafter = 0;
    document.getElementById('d3').appendChild(bar);
    (function(){
      var repeatingBar = bar;
      var repeat = function() {
        // Setting value after duration ends does nothing.
        repeatingBar.value = 2;
        window.setTimeout(repeat, 3000);
      }
      repeat();
    })();
  }
  
  if (!only || only == 4) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    document.getElementById('d4').appendChild(bar);
    (function(){
      var repeatingBar = bar;
      var repeat = function() {
        repeatingBar.duration = 2;
        window.setTimeout(repeat, 3000);
      }
      repeat();
    })();
  }
  
  if (!only || only == 5) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    bar.value = 0;
    bar.duration = 2;
    document.getElementById('d5').appendChild(bar);
  }

  if (!only || only == 6) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    document.getElementById('d6').appendChild(bar);
    bar.value = 0;
    bar.duration = 2;
  }

  if (!only || only == 7) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    bar.duration = 6;
    bar.value = 2;
    document.getElementById('d7').appendChild(bar);
  }

  if (!only || only == 8) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    bar.duration = 6;
    document.getElementById('d8').appendChild(bar);
    bar.value = 2;
  }

  if (!only || only == 9) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'empty';
    bar.duration = 0;
    document.getElementById('d9').appendChild(bar);
  }
  
  if (!only || only == 10) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'empty';
    bar.hideafter = 0;
    bar.duration = 1;
    bar.value = 0;
    document.getElementById('d10').appendChild(bar);
  }

  if (!only || only == 11) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    document.getElementById('d11').appendChild(bar);
    bar.duration = 2;
    (function(){
      var repeatingBar = bar;
      window.setTimeout(function() { repeatingBar.duration = 2; }, 1000);
    })();
  }

  if (!only || only == 12) {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    document.getElementById('d12').appendChild(bar);
    bar.duration = 2;
    (function(){
      var repeatingBar = bar;
      window.setTimeout(function() { repeatingBar.value = 2; }, 1000);
    })();
  }

  if (!only || only == 'b1') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.duration = 2;
    document.getElementById('b1').appendChild(bar);
  }

  if (!only || only == 'b2') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.duration = 2;
    bar.hideafter = 0.5;
    document.getElementById('b2').appendChild(bar);
  }

  if (!only || only == 'b13') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.duration = 2;
    document.getElementById('b13').appendChild(bar);
    (function() {
      var hideBar = bar;
      window.setTimeout(function() {
        hideBar.hideafter = 0;
      }, 2500);
    })();
  }

  if (!only || only == 'b3') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.duration = 2;
    bar.hideafter = 0;
    document.getElementById('b3').appendChild(bar);
    (function(){
      var repeatingBar = bar;
      var repeat = function() {
        // Setting elapsed after duration ends does nothing.
        repeatingBar.elapsed = 0;
        window.setTimeout(repeat, 3000);
      }
      repeat();
    })();
  }
  
  if (!only || only == 'b4') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    document.getElementById('b4').appendChild(bar);
    (function(){
      var repeatingBar = bar;
      var repeat = function() {
        repeatingBar.duration = 2;
        window.setTimeout(repeat, 3000);
      }
      repeat();
    })();
  }
  
  if (!only || only == 'b5') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    bar.elapsed = 2;
    bar.duration = 2;
    document.getElementById('b5').appendChild(bar);
  }

  if (!only || only == 'b6') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    document.getElementById('b6').appendChild(bar);
    bar.elapsed = 2;
    bar.duration = 2;
  }

  if (!only || only == 'b7') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    bar.duration = 6;
    bar.elapsed = 4;
    document.getElementById('b7').appendChild(bar);
  }

  if (!only || only == 'b8') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    bar.duration = 6;
    document.getElementById('b8').appendChild(bar);
    bar.elapsed = 4;
  }

  if (!only || only == 'b9') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'empty';
    bar.duration = 0;
    document.getElementById('b9').appendChild(bar);
  }
  
  if (!only || only == 'b10') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'empty';
    bar.hideafter = 0;
    bar.duration = 1;
    bar.elapsed = 1;
    document.getElementById('b10').appendChild(bar);
  }

  if (!only || only == 'b11') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    document.getElementById('b11').appendChild(bar);
    bar.duration = 2;
    (function(){
      var repeatingBar = bar;
      window.setTimeout(function() { repeatingBar.duration = 2 }, 1000);
    })();
  }

  if (!only || only == 'b12') {
    bar = document.createElement('timer-bar');
    bar.lefttext = "remain";
    bar.style = 'fill';
    bar.hideafter = 0;
    document.getElementById('b12').appendChild(bar);
    bar.duration = 2;
    (function(){
      var repeatingBar = bar;
      window.setTimeout(function() { repeatingBar.elapsed = 0; }, 1000);
    })();
  }

  if (!only || only == 'c1') {
    bar = document.createElement('timer-bar');
    bar.duration = 10000;
    bar.value = 9000;
    document.getElementById('c1').appendChild(bar);
    bar.fg = 'green';
  }

  if (!only || only == 'c2') {
    bar = document.createElement('timer-bar');
    bar.duration = 10000;
    bar.value = 9000;
    document.getElementById('c2').appendChild(bar);
    bar.bg = 'green';
    bar.fg = 'grey';
  }

  if (!only || only == 'c3') {
    bar = document.createElement('timer-bar');
    bar.duration = 10000;
    bar.value = 9000;
    document.getElementById('c3').appendChild(bar);
    bar.lefttext = 'remain';
    bar.centertext = 'elapsed';
    bar.righttext = 'percent';
  }
  
  if (!only || only == 'c4') {
    bar = document.createElement('timer-bar');
    bar.duration = 10000;
    bar.value = 9000;
    document.getElementById('c4').appendChild(bar);
    bar.lefttext = 'elapsed';
    bar.centertext = 'percent';
    bar.righttext = 'duration';
  }

  if (!only || only == 'c5') {
    bar = document.createElement('timer-bar');
    bar.duration = 10000;
    bar.value = 9000;
    document.getElementById('c5').appendChild(bar);
    bar.lefttext = 'percent';
    bar.centertext = 'duration';
    bar.righttext = 'fixed';
  }

  if (!only || only == 'c6') {
    bar = document.createElement('timer-bar');
    bar.duration = 10000;
    bar.value = 9000;
    document.getElementById('c6').appendChild(bar);
    bar.lefttext = 'duration';
    bar.centertext = 'fixed';
    bar.righttext = 'remain';
  }

  if (!only || only == 'c7') {
    bar = document.createElement('timer-bar');
    bar.duration = 10000;
    bar.value = 9000;
    document.getElementById('c7').appendChild(bar);
    bar.lefttext = 'fixed';
    bar.centertext = 'remain';
    bar.righttext = 'elapsed';
  }

  if (!only || only == 'c8') {
    bar = document.createElement('timer-bar');
    bar.duration = 10000;
    bar.value = 9000;
    document.getElementById('c8').appendChild(bar);
    bar.width = '50px';
    bar.height = '10px';
  }

  if (!only || only == 'c9') {
    bar = document.createElement('timer-bar');
    bar.duration = 10000;
    bar.value = 9000;
    document.getElementById('c9').appendChild(bar);
    bar.width = '50%';
    bar.height = '50%';
  }

  if (!only || only == 'c10') {
    bar = document.createElement('timer-bar');
    bar.duration = 100;
    bar.value = 90;
    document.getElementById('c10').appendChild(bar);
    bar.style = 'empty';
    bar.toward = 'left';
  }

  if (!only || only == 'c11') {
    bar = document.createElement('timer-bar');
    bar.duration = 100;
    bar.value = 90;
    document.getElementById('c11').appendChild(bar);
    bar.style = 'fill';
    bar.toward = 'left';
  }

  if (!only || only == 'c12') {
    bar = document.createElement('timer-bar');
    bar.duration = 100;
    bar.value = 90;
    document.getElementById('c12').appendChild(bar);
    bar.style = 'empty';
    bar.toward = 'right';
  }

  if (!only || only == 'c13') {
    bar = document.createElement('timer-bar');
    bar.duration = 100;
    bar.value = 90;
    document.getElementById('c13').appendChild(bar);
    bar.style = 'fill';
    bar.toward = 'right';
  }
  </script>
 </html>